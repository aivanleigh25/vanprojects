<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Movie Player - Spotlight Style</title>
  <link rel="stylesheet" href="output.css">
  <style>
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 50;
    }
    .modal-content {
      background: #fff;
      margin: 10% auto;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      animation: fadeIn 0.5s ease-out;
    }
    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #111827;
    }
  </style>
</head>
<body class="bg-bg font-sans text-text flex min-h-screen">
  <!-- Sidebar -->
  <aside class="bg-sidebar text-white w-64 p-6 space-y-4 fixed h-full shadow-lg transition-all duration-300 hover:shadow-xl">
    <h2 class="text-xl font-bold">Menu</h2>
    <nav>
      <ul class="space-y-2">
        <li><a href="#contact" class="hover:text-accent block py-2 transition-colors">Contact</a></li>
        <li><a href="#ad-block" class="hover:text-accent block py-2 transition-colors">Ad-block</a></li>
        <li><a href="#imdb" class="hover:text-accent block py-2 transition-colors">IMDb</a></li>
        <li><a href="#about" class="hover:text-accent block py-2 transition-colors">About</a></li>
        <li><a href="#history" class="hover:text-accent block py-2 transition-colors">History</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="ml-64 flex-1 p-6">
    <!-- Watch History Section -->
    <section id="history" class="animate-fadeIn">
      <h2 class="text-2xl font-bold mb-4">Watch History</h2>
      <button onclick="document.getElementById('historyModal').style.display='block'" class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200">View History</button>
      <div id="historyModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="document.getElementById('historyModal').style.display='none'">&times;</span>
          <h3 class="text-lg font-bold mb-2">Watch History</h3>
          <p class="text-gray-600">History content goes here...</p>
        </div>
      </div>
    </section>

    <!-- Free Movies Section -->
    <section id="movies" class="mt-8 animate-fadeIn">
      <h2 class="text-2xl font-bold mb-4">Free Movies</h2>
      <p class="mb-4 text-gray-600">Search or paste an IMDb ID (e.g., tt11083552), pick a server, then hit Watch.</p>
      <div class="flex flex-col md:flex-row gap-4 mb-6">
        <input type="text" id="searchInput" placeholder="Search or paste IMDb ID..." class="border border-border p-3 rounded-lg w-full md:w-1/2 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-200">
        <button id="searchButton" class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200">üîç Search</button>
      </div>
      <div id="movieCards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Floating Movie Cards will be dynamically added here via JS -->
      </div>
      <div id="playerSection" class="mt-6 hidden">
        <select id="serverSelect" class="border border-border p-3 rounded-lg w-full mb-2 focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-200">
          <option value="2embed">Server 1 ‚Äì 2Embed</option>
          <option value="vidsrcme">Server 2 ‚Äì Vidsrc.me</option>
          <option value="vidsrcto">Server 3 ‚Äì Vidsrc.to</option>
          <option value="test">Server 4 ‚Äì Test (fewer ads)</option>
        </select>
        <div class="flex space-x-3">
          <button id="watchButton" class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200">‚ñ∂ Watch</button>
          <button id="copyLinkButton" class="bg-gray-300 text-black px-4 py-2 rounded-lg hover:bg-gray-400 transition-all duration-200">üîó Copy Link</button>
          <button id="fullscreenButton" class="bg-gray-300 text-black px-4 py-2 rounded-lg hover:bg-gray-400 transition-all duration-200">‚õ∂ Fullscreen</button>
        </div>
        <div id="movieInfo" class="mt-4 p-4 bg-card border border-border rounded-lg shadow-card transition-all duration-200">
          <button id="infoToggle" class="text-accent hover:underline">More info ‚ñº</button>
          <div id="infoDetails" class="hidden mt-2 text-gray-600">
            <p>Release Date: N/A</p>
            <p>Overview: N/A</p>
            <p>Rating: N/A</p>
          </div>
        </div>
        <p id="readyTip" class="mt-2 text-sm text-gray-600">Ready. Tip: Press Enter or click Search to find movies.</p>
        <p id="headsUp" class="mt-2 text-sm text-gray-600">Heads-up: Only embed content you have the rights to watch. Some third-party players show ads; see Ad-block Help for tips. If a server fails, try a different one.</p>
      </div>
    </section>

    <!-- Ad-block Section -->
    <section id="ad-block" class="mt-8 animate-fadeIn">
      <h2 class="text-2xl font-bold mb-4">Watch with fewer ads using <a href="https://ublockorigin.com/" class="text-accent hover:underline">uBlock Origin Lite</a></h2>
      <button onclick="document.getElementById('adBlockModal').style.display='block'" class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200">View Help</button>
      <div id="adBlockModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="document.getElementById('adBlockModal').style.display='none'">&times;</span>
          <h3 class="text-lg font-bold mb-2">Ad-block Help</h3>
          <p class="text-gray-600">These steps are for Chromium-based browsers (Chrome, Edge, Brave, etc.). For Firefox, install the classic uBlock Origin add-on.</p>
          <ol class="list-decimal ml-5 mt-2 text-gray-600">
            <li>Install <a href="https://chrome.com/webstore/detail/ublock-origin-lite/egnjhciaieccjhnbpfjgbkpfmglbcjdn" class="text-accent hover:underline">uBlock Origin Lite</a> from the Chrome Web Store.</li>
            <li>Pin it and make sure blocking is On for this site.</li>
            <li>Reload. Most popups/banners should be gone.</li>
          </ol>
        </div>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="mt-8 animate-fadeIn">
      <h2 class="text-2xl font-bold mb-4">About this page</h2>
      <button onclick="document.getElementById('aboutModal').style.display='block'" class="bg-accent text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-200">View Details</button>
      <div id="aboutModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="document.getElementById('aboutModal').style.display='none'">&times;</span>
          <h3 class="text-lg font-bold mb-2">About this page</h3>
          <p class="text-gray-600">Search by movie title or paste IMDb ID. Click a movie card to load instantly in the player.</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Dynamic movie card generation
    const movieCards = document.getElementById('movieCards');
    const sampleMovies = [
      { id: 'tt11083552', title: 'Sample Movie 1', poster: 'https://via.placeholder.com/150' },
      { id: 'tt12094562', title: 'Sample Movie 2', poster: 'https://via.placeholder.com/150' },
      { id: 'tt13085673', title: 'Sample Movie 3', poster: 'https://via.placeholder.com/150' },
    ];
    const imdbRegex = /^tt\d{7,8}$/; // Valid IMDb ID regex

    function renderMovieCards(movies) {
      movieCards.innerHTML = '';
      movies.forEach(movie => {
        const card = document.createElement('div');
        card.className = 'bg-card border border-border rounded-lg shadow-card p-4 hover:shadow-float animate-float cursor-pointer transition-all duration-300 hover:scale-105';
        card.innerHTML = `
          <img src="${movie.poster}" alt="${movie.title}" class="w-full h-48 object-cover rounded-t-lg">
          <h3 class="text-lg font-semibold mt-2 text-text">${movie.title}</h3>
          <p class="text-sm text-gray-600">IMDb ID: ${movie.id}</p>
        `;
        card.addEventListener('click', () => {
          document.getElementById('playerSection').classList.remove('hidden');
          // Add your logic to load movie details here
        });
        movieCards.appendChild(card);
      });
    }

    renderMovieCards(sampleMovies);

    // Toggle info details
    document.getElementById('infoToggle').addEventListener('click', () => {
      document.getElementById('infoDetails').classList.toggle('hidden');
    });

    // Search functionality
    document.getElementById('searchButton').addEventListener('click', () => {
      const searchInput = document.getElementById('searchInput').value.trim();
      if (imdbRegex.test(searchInput)) {
        // If it's a valid IMDb ID, filter by exact match
        const matchedMovie = sampleMovies.find(m => m.id === searchInput);
        renderMovieCards(matchedMovie ? [matchedMovie] : []);
      } else {
        // Otherwise, filter by title
        const filteredMovies = sampleMovies.filter(m => m.title.toLowerCase().includes(searchInput.toLowerCase()));
        renderMovieCards(filteredMovies);
      }
    });
    document.getElementById('searchInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') document.getElementById('searchButton').click();
    });

    // Watch button
    document.getElementById('watchButton').addEventListener('click', () => {
      const server = document.getElementById('serverSelect').value;
      console.log('Watching with server:', server);
      // Add your player loading logic here
    });

    // Copy link
    document.getElementById('copyLinkButton').addEventListener('click', () => {
      navigator.clipboard.writeText(window.location.href);
      alert('Link copied to clipboard!');
    });

    // Fullscreen
    document.getElementById('fullscreenButton').addEventListener('click', () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          console.error('Fullscreen failed:', err);
        });
      } else {
        document.exitFullscreen();
      }
    });
  </script>
</body>
</html>
